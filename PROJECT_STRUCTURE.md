# æœ«æ—¥æˆ¿æ±æ¨¡æ“¬å™¨ - å°ˆæ¡ˆçµæ§‹èªªæ˜

## ğŸ“ å°ˆæ¡ˆæ¶æ§‹æ¦‚è¦½

æœ¬å°ˆæ¡ˆæ¡ç”¨**æ¼¸é€²å¼é‡æ§‹ç­–ç•¥**ï¼Œå¾å–®ä¸€HTMLæª”æ¡ˆæ¶æ§‹æ¼”é€²ç‚ºæ¨¡çµ„åŒ–ç³»çµ±ã€‚ç•¶å‰è™•æ–¼é›™è»Œä¸¦è¡Œéšæ®µï¼Œæ”¯æ´å‚³çµ±éƒ¨ç½²æ¨¡å¼èˆ‡ç¾ä»£åŒ–é–‹ç™¼å·¥ä½œæµç¨‹ã€‚

## ğŸ—ï¸ å®Œæ•´ç›®éŒ„çµæ§‹

```
apocalypse-landlord-simulator/
â”œâ”€â”€ README.md                          # å°ˆæ¡ˆèªªæ˜æ–‡ä»¶
â”œâ”€â”€ PROJECT_STRUCTURE.md               # æœ¬æª”æ¡ˆ - å°ˆæ¡ˆçµæ§‹è©³ç´°èªªæ˜
â”œâ”€â”€ LICENSE                            # é–‹æºæˆæ¬Šå”è­°
â”œâ”€â”€ .gitignore                         # Gitç‰ˆæœ¬æ§åˆ¶å¿½ç•¥è¦å‰‡
â”œâ”€â”€ package.json                       # Node.jså°ˆæ¡ˆé…ç½®ï¼ˆæœªä¾†Viteä½¿ç”¨ï¼‰
â”‚
â”œâ”€â”€ public/                            # ğŸŒ éœæ…‹è³‡æºç›®éŒ„
â”‚   â”œâ”€â”€ favicon.ico                    # ç¶²ç«™åœ–ç¤º
â”‚   â”œâ”€â”€ manifest.json                  # PWAé…ç½®ï¼ˆæœªä¾†æ“´å±•ï¼‰
â”‚   â””â”€â”€ robots.txt                     # æœå°‹å¼•æ“çˆ¬èŸ²è¦å‰‡
â”‚
â”œâ”€â”€ src/                               # ğŸ“ åŸå§‹ç¢¼ç›®éŒ„
â”‚   â”œâ”€â”€ index.html                     # åŸå§‹å–®ä¸€æª”æ¡ˆç‰ˆæœ¬ï¼ˆä¿ç•™ï¼‰
â”‚   â”œâ”€â”€ game-refactored.html           # âœ… é‡æ§‹ç‰ˆæœ¬ï¼ˆç•¶å‰ä¸»è¦ç‰ˆæœ¬ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ js/                           # ğŸ”§ JavaScriptæ¨¡çµ„ç›®éŒ„
â”‚   â”‚   â”œâ”€â”€ core/                     # æ ¸å¿ƒç³»çµ±æ¨¡çµ„
â”‚   â”‚   â”‚   â”œâ”€â”€ DataManager.js        # âœ… è³‡æ–™ç®¡ç†æ ¸å¿ƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ RuleEngine.js         # âœ… è¦å‰‡åŸ·è¡Œå¼•æ“
â”‚   â”‚   â”‚   â””â”€â”€ GameBridge.js         # âœ… æ–°èˆŠç³»çµ±æ©‹æ¥å™¨
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ systems/                  # ğŸ® éŠæˆ²ç³»çµ±æ¨¡çµ„ï¼ˆå°è©±äºŒç›®æ¨™ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ TenantSystem.js       # ğŸ“‹ ç§Ÿå®¢ç³»çµ±ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ SkillSystem.js        # âš¡ æŠ€èƒ½ç³»çµ±åŸ·è¡Œ
â”‚   â”‚   â”‚   â”œâ”€â”€ EventSystem.js        # ğŸ² äº‹ä»¶ç³»çµ±è§¸ç™¼
â”‚   â”‚   â”‚   â”œâ”€â”€ ResourceSystem.js     # ğŸ’° è³‡æºæµè½‰æ§åˆ¶
â”‚   â”‚   â”‚   â””â”€â”€ BuildingSystem.js     # ğŸ  å»ºç¯‰ç³»çµ±ç®¡ç†
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ui/                       # ğŸ–¥ï¸ ä½¿ç”¨è€…ä»‹é¢æ¨¡çµ„ï¼ˆå°è©±äºŒç›®æ¨™ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ UIManager.js          # ğŸ“± ä»‹é¢ç‹€æ…‹ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ ModalManager.js       # ğŸ”² å½ˆçª—ç³»çµ±ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ DisplayUpdater.js     # ğŸ”„ ç•«é¢æ›´æ–°é‚è¼¯
â”‚   â”‚   â”‚   â””â”€â”€ InteractionHandler.js # ğŸ‘† ä½¿ç”¨è€…äº’å‹•è™•ç†
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ utils/                    # ğŸ› ï¸ å·¥å…·å‡½æ•¸æ¨¡çµ„
â”‚   â”‚   â”‚   â”œâ”€â”€ helpers.js            # âœ… é€šç”¨è¼”åŠ©å‡½æ•¸
â”‚   â”‚   â”‚   â”œâ”€â”€ validators.js         # ğŸ” è³‡æ–™é©—è­‰å·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ constants.js          # ğŸ“Š å¸¸æ•¸å®šç¾©
â”‚   â”‚   â”‚   â””â”€â”€ formatters.js         # ğŸ“ æ ¼å¼åŒ–å·¥å…·
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ main.js                   # ğŸš€ ä¸»ç¨‹å¼é€²å…¥é»ï¼ˆå°è©±ä¸‰ç›®æ¨™ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ data/                         # ğŸ“Š éŠæˆ²è³‡æ–™é…ç½®ç›®éŒ„
â”‚   â”‚   â”œâ”€â”€ tenants.json              # âœ… ç§Ÿå®¢è³‡æ–™é…ç½®
â”‚   â”‚   â”œâ”€â”€ skills.json               # âœ… æŠ€èƒ½ç³»çµ±é…ç½®
â”‚   â”‚   â”œâ”€â”€ events.json               # âœ… äº‹ä»¶ç³»çµ±é…ç½®
â”‚   â”‚   â”œâ”€â”€ rules.json                # âœ… éŠæˆ²è¦å‰‡é…ç½®
â”‚   â”‚   â””â”€â”€ localization/             # ğŸŒ æœ¬åœ°åŒ–è³‡æ–™ï¼ˆæœªä¾†æ“´å±•ï¼‰
â”‚   â”‚       â”œâ”€â”€ zh-TW.json            # ç¹é«”ä¸­æ–‡
â”‚   â”‚       â””â”€â”€ en-US.json            # è‹±æ–‡
â”‚   â”‚
â”‚   â””â”€â”€ css/                          # ğŸ¨ æ¨£å¼æª”æ¡ˆç›®éŒ„ï¼ˆå°è©±ä¸‰ç›®æ¨™ï¼‰
â”‚       â”œâ”€â”€ main.css                  # ä¸»è¦æ¨£å¼
â”‚       â”œâ”€â”€ components.css            # å…ƒä»¶æ¨£å¼
â”‚       â”œâ”€â”€ themes.css                # ä¸»é¡Œæ¨£å¼
â”‚       â””â”€â”€ responsive.css            # éŸ¿æ‡‰å¼è¨­è¨ˆ
â”‚
â”œâ”€â”€ dist/                             # ğŸ“¦ å»ºæ§‹è¼¸å‡ºç›®éŒ„ï¼ˆæœªä¾†Viteä½¿ç”¨ï¼‰
â”‚   â”œâ”€â”€ index.html                    # å»ºæ§‹å¾Œçš„HTML
â”‚   â”œâ”€â”€ assets/                       # å»ºæ§‹å¾Œçš„è³‡æº
â”‚   â””â”€â”€ ...                           # å…¶ä»–å»ºæ§‹ç”¢ç‰©
â”‚
â”œâ”€â”€ docs/                             # ğŸ“š å°ˆæ¡ˆæ–‡ä»¶ç›®éŒ„
â”‚   â”œâ”€â”€ architecture.md              # âœ… æ¶æ§‹è¨­è¨ˆæ–‡ä»¶
â”‚   â”œâ”€â”€ api.md                        # ğŸ“‹ APIæ–‡ä»¶ï¼ˆå°è©±äºŒç›®æ¨™ï¼‰
â”‚   â”œâ”€â”€ development.md                # ğŸ”§ é–‹ç™¼ç’°å¢ƒæŒ‡å—
â”‚   â”œâ”€â”€ deployment.md                 # ğŸš€ éƒ¨ç½²èªªæ˜æ–‡ä»¶
â”‚   â””â”€â”€ changelog.md                  # ğŸ“ˆ ç‰ˆæœ¬æ›´æ–°è¨˜éŒ„
â”‚
â”œâ”€â”€ tests/                           # ğŸ§ª æ¸¬è©¦æª”æ¡ˆç›®éŒ„ï¼ˆå°è©±äºŒç›®æ¨™ï¼‰
â”‚   â”œâ”€â”€ unit/                        # å–®å…ƒæ¸¬è©¦
â”‚   â”‚   â”œâ”€â”€ core/                    # æ ¸å¿ƒç³»çµ±æ¸¬è©¦
â”‚   â”‚   â”œâ”€â”€ systems/                 # éŠæˆ²ç³»çµ±æ¸¬è©¦
â”‚   â”‚   â””â”€â”€ utils/                   # å·¥å…·å‡½æ•¸æ¸¬è©¦
â”‚   â”œâ”€â”€ integration/                 # æ•´åˆæ¸¬è©¦
â”‚   â”‚   â”œâ”€â”€ system-bridge.test.js   # ç³»çµ±æ©‹æ¥æ¸¬è©¦
â”‚   â”‚   â””â”€â”€ data-consistency.test.js # è³‡æ–™ä¸€è‡´æ€§æ¸¬è©¦
â”‚   â””â”€â”€ fixtures/                    # æ¸¬è©¦è³‡æ–™å¤¾å…·
â”‚       â”œâ”€â”€ game-states/             # éŠæˆ²ç‹€æ…‹æ¸¬è©¦è³‡æ–™
â”‚       â””â”€â”€ config-samples/          # é…ç½®æª”æ¡ˆç¯„ä¾‹
â”‚
â””â”€â”€ tools/                           # ğŸ”¨ é–‹ç™¼å·¥å…·ç›®éŒ„
    â”œâ”€â”€ build.js                     # å»ºæ§‹è…³æœ¬
    â”œâ”€â”€ deploy.js                    # éƒ¨ç½²è…³æœ¬
    â”œâ”€â”€ validate-config.js           # é…ç½®æª”æ¡ˆé©—è­‰å·¥å…·
    â””â”€â”€ generate-docs.js             # è‡ªå‹•æ–‡ä»¶ç”Ÿæˆå·¥å…·
```

## ğŸ“‹ æª”æ¡ˆç‹€æ…‹èªªæ˜

### åœ–ä¾‹
- âœ… **å·²å®Œæˆ**ï¼šæª”æ¡ˆå·²å¯¦ä½œä¸¦ç¶“éé©—è­‰
- ğŸ“‹ **å°è©±äºŒç›®æ¨™**ï¼šä¸‹éšæ®µä¸»è¦å¯¦ä½œç›®æ¨™
- ğŸš€ **å°è©±ä¸‰ç›®æ¨™**ï¼šå¾ŒçºŒéšæ®µå¯¦ä½œç›®æ¨™
- ğŸŒ **æœªä¾†æ“´å±•**ï¼šé•·æœŸè¦åŠƒåŠŸèƒ½

### ç•¶å‰éšæ®µæª”æ¡ˆåˆ†ä½ˆ

**å°è©±ä¸€å·²å®Œæˆï¼ˆâœ…ï¼‰**ï¼š
- æ ¸å¿ƒæ¶æ§‹ç³»çµ±ï¼š`DataManager.js`ã€`RuleEngine.js`ã€`GameBridge.js`
- è³‡æ–™é…ç½®é«”ç³»ï¼š`tenants.json`ã€`skills.json`ã€`events.json`ã€`rules.json`
- æ•´åˆå¯¦ä½œï¼š`game-refactored.html`
- å·¥å…·æ¨¡çµ„ï¼š`helpers.js`
- æ¶æ§‹æ–‡ä»¶ï¼š`architecture.md`

**å°è©±äºŒç›®æ¨™ï¼ˆğŸ“‹ï¼‰**ï¼š
- æ¥­å‹™ç³»çµ±æ¨¡çµ„ï¼š`TenantSystem.js`ã€`SkillSystem.js`ã€`EventSystem.js`ã€`ResourceSystem.js`
- UIæ¶æ§‹æ¨¡çµ„ï¼š`UIManager.js`ã€`ModalManager.js`ã€`DisplayUpdater.js`
- æ¸¬è©¦é«”ç³»ï¼šå®Œæ•´çš„æ¸¬è©¦æ¡†æ¶èˆ‡æ¸¬è©¦æ¡ˆä¾‹
- APIæ–‡ä»¶ï¼šè©³ç´°çš„æ¨¡çµ„ä»‹é¢æ–‡ä»¶

## ğŸ—ï¸ æ¶æ§‹å±¤æ¬¡èªªæ˜

### ç¬¬ä¸€å±¤ï¼šæ ¸å¿ƒåŸºç¤è¨­æ–½ï¼ˆCore Infrastructureï¼‰
è² è²¬ç³»çµ±æœ€åŸºæœ¬çš„è³‡æ–™ç®¡ç†ã€è¦å‰‡åŸ·è¡Œã€ç³»çµ±æ©‹æ¥åŠŸèƒ½ã€‚é€™ä¸€å±¤ç‚ºæ‰€æœ‰ä¸Šå±¤æ¨¡çµ„æä¾›ç©©å®šçš„æŠ€è¡“åŸºç¤ã€‚

**é—œéµæ¨¡çµ„**ï¼š
- `DataManager`ï¼šçµ±ä¸€è³‡æ–™å­˜å–èˆ‡å¿«å–ç®¡ç†
- `RuleEngine`ï¼šè²æ˜å¼è¦å‰‡åŸ·è¡Œå¼•æ“
- `GameBridge`ï¼šæ–°èˆŠç³»çµ±æ©‹æ¥èˆ‡ç›¸å®¹æ€§ä¿è­‰

### ç¬¬äºŒå±¤ï¼šæ¥­å‹™é‚è¼¯ç³»çµ±ï¼ˆBusiness Logic Systemsï¼‰
å¯¦ä½œå…·é«”çš„éŠæˆ²æ¥­å‹™é‚è¼¯ï¼Œæ¯å€‹ç³»çµ±è² è²¬ç‰¹å®šçš„åŠŸèƒ½é ˜åŸŸï¼Œé€éæ¨™æº–åŒ–ä»‹é¢èˆ‡å…¶ä»–ç³»çµ±å”ä½œã€‚

**é—œéµç³»çµ±**ï¼š
- `TenantSystem`ï¼šç§Ÿå®¢ç”Ÿå‘½é€±æœŸèˆ‡è¡Œç‚ºç®¡ç†
- `SkillSystem`ï¼šæŠ€èƒ½æ•ˆæœè¨ˆç®—èˆ‡åŸ·è¡Œæ§åˆ¶
- `EventSystem`ï¼šäº‹ä»¶è§¸ç™¼èˆ‡å‹•æ…‹å…§å®¹ç”Ÿæˆ
- `ResourceSystem`ï¼šè³‡æºæµè½‰èˆ‡å¹³è¡¡æ§åˆ¶

### ç¬¬ä¸‰å±¤ï¼šä½¿ç”¨è€…ä»‹é¢å±¤ï¼ˆUser Interface Layerï¼‰
è™•ç†æ‰€æœ‰èˆ‡ä½¿ç”¨è€…äº’å‹•ç›¸é—œçš„é‚è¼¯ï¼ŒåŒ…æ‹¬ç•«é¢æ›´æ–°ã€äº‹ä»¶è™•ç†ã€ç‹€æ…‹å±•ç¤ºç­‰åŠŸèƒ½ã€‚

**é—œéµæ¨¡çµ„**ï¼š
- `UIManager`ï¼šçµ±ä¸€çš„ä»‹é¢ç‹€æ…‹ç®¡ç†
- `ModalManager`ï¼šå½ˆçª—ç³»çµ±çš„ç”Ÿå‘½é€±æœŸæ§åˆ¶
- `DisplayUpdater`ï¼šé«˜æ•ˆèƒ½çš„ç•«é¢æ›´æ–°æ©Ÿåˆ¶

### ç¬¬å››å±¤ï¼šå·¥å…·èˆ‡è¼”åŠ©ï¼ˆUtilities and Helpersï¼‰
æä¾›è·¨æ¨¡çµ„çš„é€šç”¨åŠŸèƒ½ï¼ŒåŒ…æ‹¬è³‡æ–™é©—è­‰ã€æ ¼å¼åŒ–ã€è¼”åŠ©è¨ˆç®—ç­‰å·¥å…·å‡½æ•¸ã€‚

**é—œéµå·¥å…·**ï¼š
- `helpers.js`ï¼šé€šç”¨è¼”åŠ©å‡½æ•¸é›†
- `validators.js`ï¼šè³‡æ–™é©—è­‰å·¥å…·
- `formatters.js`ï¼šæ ¼å¼åŒ–èˆ‡è½‰æ›å·¥å…·

## ğŸ”§ é–‹ç™¼å·¥ä½œæµç¨‹

### æª”æ¡ˆä¾è³´é—œä¿‚
```
game-refactored.html
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ DataManager.js
â”‚   â”œâ”€â”€ RuleEngine.js
â”‚   â””â”€â”€ GameBridge.js
â”œâ”€â”€ systems/
â”‚   â”œâ”€â”€ TenantSystem.js â†’ core/, utils/
â”‚   â”œâ”€â”€ SkillSystem.js â†’ core/, utils/
â”‚   â”œâ”€â”€ EventSystem.js â†’ core/, utils/
â”‚   â””â”€â”€ ResourceSystem.js â†’ core/, utils/
â”œâ”€â”€ ui/
â”‚   â”œâ”€â”€ UIManager.js â†’ systems/, utils/
â”‚   â”œâ”€â”€ ModalManager.js â†’ utils/
â”‚   â””â”€â”€ DisplayUpdater.js â†’ systems/, utils/
â””â”€â”€ utils/
    â”œâ”€â”€ helpers.js
    â”œâ”€â”€ validators.js
    â””â”€â”€ formatters.js
```

### æ¨¡çµ„è¼‰å…¥é †åº
1. **åŸºç¤è¨­æ–½è¼‰å…¥**ï¼š`utils/` â†’ `core/`
2. **æ¥­å‹™ç³»çµ±è¼‰å…¥**ï¼š`systems/`
3. **ä»‹é¢ç³»çµ±è¼‰å…¥**ï¼š`ui/`
4. **ä¸»ç¨‹å¼åˆå§‹åŒ–**ï¼š`main.js`

## ğŸ“Š è³‡æ–™æµæ¶æ§‹

### è³‡æ–™ä¾†æºå±¤æ¬¡
```
JSONé…ç½®æª”æ¡ˆ â†’ DataManager â†’ æ¥­å‹™ç³»çµ± â†’ UIå±•ç¤º
     â†“              â†“           â†“         â†“
   é©—è­‰å¿«å–        è¦å‰‡åŸ·è¡Œ    ç‹€æ…‹ç®¡ç†   ä½¿ç”¨è€…äº’å‹•
```

### ç‹€æ…‹ç®¡ç†æ©Ÿåˆ¶
- **å…¨åŸŸç‹€æ…‹**ï¼š`gameState` ç‰©ä»¶çµ±ä¸€ç®¡ç†
- **æ¨¡çµ„ç‹€æ…‹**ï¼šå„ç³»çµ±å…§éƒ¨ç‹€æ…‹ç¨ç«‹ç®¡ç†
- **UIç‹€æ…‹**ï¼šä»‹é¢ç›¸é—œç‹€æ…‹å–®ç¨ç¶­è­·
- **å¿«å–ç‹€æ…‹**ï¼š`DataManager` è² è²¬è³‡æ–™å¿«å–

## ğŸš€ éƒ¨ç½²ç­–ç•¥

### é–‹ç™¼ç’°å¢ƒ
- ä½¿ç”¨ `src/game-refactored.html` ç›´æ¥é–‹ç™¼æ¸¬è©¦
- æ¨¡çµ„åŒ–æª”æ¡ˆé€é `<script type="module">` è¼‰å…¥
- æœ¬åœ°é–‹ç™¼ä¼ºæœå™¨æ”¯æ´å³æ™‚é‡è¼‰

### ç”Ÿç”¢ç’°å¢ƒï¼ˆGitHub Pagesï¼‰
- éšæ®µä¸€ï¼šç›´æ¥éƒ¨ç½² `game-refactored.html`ï¼ˆç•¶å‰ï¼‰
- éšæ®µäºŒï¼šä½¿ç”¨ Vite æ‰“åŒ…ç‚º `dist/` ç›®éŒ„
- éšæ®µä¸‰ï¼šå®Œæ•´çš„ CI/CD è‡ªå‹•åŒ–éƒ¨ç½²

### ç‰ˆæœ¬ç®¡ç†ç­–ç•¥
- `main` åˆ†æ”¯ï¼šç©©å®šçš„ç”Ÿç”¢ç‰ˆæœ¬
- `develop` åˆ†æ”¯ï¼šé–‹ç™¼ç‰ˆæœ¬æ•´åˆ
- `feature/*` åˆ†æ”¯ï¼šç‰¹å®šåŠŸèƒ½é–‹ç™¼
- `release/*` åˆ†æ”¯ï¼šç‰ˆæœ¬ç™¼å¸ƒæº–å‚™

## ğŸ“ˆ å¾ŒçºŒç™¼å±•è¦åŠƒ

### å°è©±äºŒéšæ®µé‡é»
- æ¥­å‹™ç³»çµ±æ¨¡çµ„åŒ–å®Œæˆ
- UIæ¶æ§‹é‡æ§‹å¯¦ç¾
- æ¸¬è©¦æ¡†æ¶å»ºç«‹èˆ‡é©—è­‰

### å°è©±ä¸‰éšæ®µè¦åŠƒ
- å®Œæ•´çš„å¤šæª”æ¡ˆæ¶æ§‹é·ç§»
- Viteå»ºæ§‹å·¥å…·æ•´åˆ
- ç¾ä»£åŒ–é–‹ç™¼å·¥ä½œæµç¨‹å»ºç«‹

### é•·æœŸæŠ€è¡“è·¯ç·š
- PWAæ¼¸é€²å¼ç¶²é æ‡‰ç”¨æ”¯æ´
- å¤šèªè¨€åœ‹éš›åŒ–å¯¦ç¾
- å•†æ¥­åŒ–éƒ¨ç½²æ¶æ§‹æº–å‚™

æ­¤å°ˆæ¡ˆçµæ§‹è¨­è¨ˆåŸºæ–¼è»Ÿé«”å·¥ç¨‹æœ€ä½³å¯¦è¸ï¼Œç¢ºä¿äº†ç¨‹å¼ç¢¼çš„å¯ç¶­è­·æ€§ã€å¯æ“´å±•æ€§èˆ‡å¯éƒ¨ç½²æ€§ï¼Œç‚ºå°ˆæ¡ˆçš„é•·æœŸç™¼å±•å¥ å®šäº†å …å¯¦çš„æŠ€è¡“åŸºç¤ã€‚